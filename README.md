# real_estate_datas

# 概要
不動産取引価格情報取得API（国交省）のデータを取得して、いじる
- https://www.land.mlit.go.jp/webland/api.html

# データ仕様(データ例は、北海道の20221-20224で確認、Typeが農地、林地は除外)
## 不要な列
- PricePerUnit
- UnitPrice
- Purpose
- Direction
- Classification
- Remarks:nanだけに絞りたい

## 各列の概要
- Type: 取引の種類['宅地(土地と建物)', '中古マンション等', '宅地(土地)', '農地', '林地']
- Region:['住宅地', nan, '商業地', '工業地', '宅地見込地']
- MunicipalityCode: 市区町村コード(5桁の数字)
- Prefecture: 都道府県(文字列) ex:北海道
- Municipality: 市区町村名(文字列) ex:札幌市中央区
- DistrictName: 地区名 ex:旭ヶ丘 大通り西
- TradePrice: 価格(astype('int')可能)
- PricePerUnit: 坪単価(astype('float')可能　Nanあり)
- Area: 面積 「㎡以上」の文字列を除去すればint可能(['2000㎡以上', '5000㎡以上']の二つがあるっぽい)
- LandShape: ['台形', nan, '長方形', 'ほぼ整形', '不整形', 'ほぼ長方形', 'ほぼ正方形', '正方形', 'ほぼ台形','袋地等']
- Frontage: 間口。道路や通りに面する長さ。2m未満は再建築不可のため、よろしくない。m2抜きで、floatOK
- UnitPrice: 取引価格(平方メートル単価):float
- TotalFloorArea: 延床面積。建物面積ともいう。「㎡以上」文字列除去でfloat可能
- BuildingYear: 築年。(なんで和暦なんだよ)['平成2年', '平成19年',戦前、nan...]
- Structure: ['木造', 'ＲＣ', 'ＳＲＣ', nan, '鉄骨造', '軽量鉄骨造', 'ＲＣ、木造', 'ブロック造', 'ＲＣ、鉄骨造','鉄骨造、木造', '木造、ブロック造', 'ＲＣ、ブロック造']
- Use: 用途。['住宅', nan, '共同住宅',..]。住宅と共同住宅が大半
- Purpose:今後の利用目的。古いデータにはないので注意。['住宅', 'その他', '店舗', '事務所', nan, '工場', '倉庫']
- Direction: 前面道路の方位
- Classification: 前面道路の種類(私道、国道、県道 etc)
- Breadth: 全面道路の道幅。floatOK
- CityPlanning: 都市計画。['第１種住居地域', '商業地域'..]。参考：https://iqrafudosan.com/channel/urban-planning-japan
- CoverageRatio: 建蔽率。だいたい60%が多い。用途地域によって制限があるぽい。nanあるが、n*10の数字
- FloorAreaRatio: 容積率。用途地域によって制限がある
- Period: 取引時期 パラメータで指定するやつ。['2022年第１四半期', '2022年第４四半期'...]
- FloorPlan: [nan, '２ＬＤＫ', '３ＬＤＫ', '１Ｒ＋Ｓ'...]
- Renovation: 改装有無。[nan, '改装済', '未改装']
- Remarks:取引の事情等。[nan, '調停・競売等', '私道を含む取引', '隣地の購入', '関係者間取引', '古屋付き・取壊し前提']。大半がNan

## 各列の下処理
正規化をするかどうか。
- Type: 特になし
- Region: 特になし
- MunicipalityCode: 特になし
- Prefecture: コード化して正規化するかどうか
- DistrictName: 特になし
- TradePrice: int、万円にする
- PricePerUnit: float
- Area: m2消す、float
- LandShape; 特になし
- Frontage: m2消す、float
- UnitPrice: float
- TotalFloorArea: m2消す、float
- BuildingYear: 西暦に直す+築年列を作る
- Structure: 特になし
- Use: 特になし
- Purpose: 特になし
- Direction: 特になし
- Classification: 特になし
- Breadth: 特になし
- CityPlanning: 特になし。ちょっと正規化したい
- CoverageRatio: float
- FloorAreaRatio: float
- Period: XXXX年第Y四半期を年とYに分ける
- FloorPlan: 特になし
- Renovation: 特になし
- Remarks: 特になし。

## 行の削除
最低限にする
Type: ['宅地(土地と建物)', '中古マンション等', '宅地(土地)']に絞る
Remarks: nanに絞る

# データの概観

## カテゴリデータ

### カウント 
- 神奈川県の、2021-2022年のデータで確認。
- カテゴリ数が多いデータは、適宜列を除去している。

|            | 宅地(土地と建物) | 中古マンション等 | 宅地(土地) |
|------------|------------------|-----------------|------------|
| Type_count | 17100.0          | 15204.0         | 8752.0     |
| Type(%)    | 41.7             | 37.0            | 21.3       |

|                | 住宅地 | Nan  | 商業地 | 宅地見込地 | 工業地 |
|----------------|--------|------|--------|------------|--------|
| Region_count   | 24085.0| 15204.0| 1276.0| 262.0      | 229.0  |
| Region(%)      | 58.7   | 37.0  | 3.1    | 0.6        | 0.6    |

|                    | 藤沢市 | 横浜市港北区 | 横須賀市 | 横浜市鶴見区 | 相模原市南区 | 横浜市南区 | 横浜市戸塚区 | 横浜市神奈川区 | 横浜市青葉区 | 茅ヶ崎市 | 相模原市中央区 | 横浜市中区 | 横浜市旭区 | 川崎市川崎区 | 大和市 |
|--------------------|--------|--------------|----------|--------------|--------------|------------|--------------|-----------------|--------------|----------|----------------|------------|----------|------------|------|
| Municipality_count | 1924.0 | 1675.0       | 1616.0   | 1366.0       | 1298.0       | 1263.0     | 1257.0       | 1245.0          | 1217.0       | 1200.0   | 1193.0         | 1182.0     | 1145.0   | 1130.0     | 1076.0 |
| Municipality(%)    | 4.7    | 4.1          | 3.9      | 3.3          | 3.2          | 3.1        | 3.1          | 3.0             | 3.0          | 2.9      | 2.9            | 2.9        | 2.8      | 2.8        | 2.6  |

|               | Nan | ほぼ長方形 | 長方形 | 不整形 | ほぼ台形 | 袋地等 | ほぼ整形 | ほぼ正方形 | 台形 | 正方形 |
|---------------|-----|------------|--------|--------|---------|-------|---------|------------|-----|--------|
| LandShape_count | 15205.0 | 8352.0 | 5413.0 | 3545.0 | 2977.0 | 1903.0 | 1252.0 | 1251.0 | 966.0 | 192.0 |
| LandShape(%)    | 37.0   | 20.3   | 13.2   | 8.6    | 7.3    | 4.6    | 3.0    | 3.0   | 2.4   | 0.5    |

|                      | 木造 | Nan | ＲＣ | ＳＲＣ | 軽量鉄骨造 | 鉄骨造 | ＲＣ、木造 | ブロック造 | ＲＣ、鉄骨造 | 鉄骨造、木造 | ＳＲＣ、ＲＣ | 木造、ブロック造 | 鉄骨造、木造、ブロック造 | ＲＣ、木造、ブロック造 | ＳＲＣ、ＲＣ、鉄骨造 |
|----------------------|-----|-----|------|------|------------|-------|------------|-----------|--------------|---------------|----------|----------------|------------------------|------------------------|--------------------|
| Structure_count     | 14090.0 | 11484.0 | 11223.0 | 2580.0 | 842.0 | 735.0 | 39.0 | 23.0 | 15.0 | 11.0 | 8.0 | 3.0 | 1.0 | 1.0 | 1.0 |
| Structure(%)        | 34.3 | 28.0 | 27.3 | 6.3 | 2.1 | 1.8 | 0.1 | 0.1 | 0.0 | 0.0 | 0.0 | 0.0 | 0.0 | 0.0 | 0.0 |

|                | 住宅 | Nan | 共同住宅 | 住宅、店舗 | 事務所 | 共同住宅、店舗 | 店舗 | 住宅、駐車場 | その他 | 事務所、店舗 | 共同住宅、事務所 | 工場 | 住宅、事務所 | 倉庫 | 事務所、倉庫 |
|----------------|-----|-----|----------|-----------|-------|--------------|------|------------|-------|--------------|------------------|-----|--------------|------|-------------|
| Use_count      | 24184.0 | 14116.0 | 1527.0 | 173.0 | 155.0 | 118.0 | 111.0 | 97.0 | 63.0 | 46.0 | 39.0 | 36.0 | 35.0 | 35.0 | 30.0 |
| Use(%)         | 58.9 | 34.4 | 3.7 | 0.4 | 0.4 | 0.3 | 0.3 | 0.2 | 0.2 | 0.1 | 0.1 | 0.1 | 0.1 | 0.1 | 0.1 |

|             | 住宅 | Nan | その他 | 事務所 | 店舗 | 倉庫 | 工場 |
|-------------|-----|-----|--------|-------|-----|------|-----|
| Purpose_count | 34406.0 | 3386.0 | 2322.0 | 388.0 | 323.0 | 146.0 | 85.0 |
| Purpose(%)  | 83.8 | 8.2 | 5.7 | 0.9 | 0.8 | 0.4 | 0.2 |


|                         | 第１種低層住居専用地域 | 第１種住居地域 | 第１種中高層住居専用地域 | 商業地域 | 近隣商業地域 | 準工業地域 | 第２種中高層住居専用地域 | 第２種住居地域 | 準住居地域 | 市街化調整区域 | 工業地域 | Nan | 市街化区域及び市街化調整区域外の都市計画区域 | 第２種低層住居専用地域 | 工業専用地域 |
|-------------------------|------------------|--------------|------------------------|----------|--------------|------------|------------------------|--------------|------------|----------------|----------|-----|----------------------------|----------------------|--------------|
| CityPlanning_count      | 11166.0          | 7143.0       | 6757.0                 | 4485.0   | 2406.0       | 2094.0     | 1605.0                 | 1377.0       | 1175.0     | 1127.0         | 899.0    | 375.0 | 178.0                      | 169.0                | 70.0         |
| CityPlanning(%)         | 27.2             | 17.4         | 16.5                   | 10.9     | 5.9          | 5.1        | 3.9                     | 3.4          | 2.9        | 2.7            | 2.2      | 0.9   | 0.4                        | 0.4                  | 0.2          |

|                    | 2021年第１四半期 | 2021年第２四半期 | 2021年第３四半期 | 2021年第４四半期 | 2022年第２四半期 | 2022年第１四半期 | 2022年第３四半期 | 2022年第４四半期 |
|--------------------|------------------|------------------|------------------|------------------|------------------|------------------|------------------|------------------|
| Period_count       | 5722.0           | 5612.0           | 5419.0           | 5266.0           | 4895.0           | 4829.0           | 4702.0           | 4611.0           |
| Period(%)          | 13.9             | 13.7             | 13.2             | 12.8             | 11.9             | 11.8             | 11.5             | 11.2             |

|          | Nan  | ３ＬＤＫ | ２ＬＤＫ | １Ｋ  | ４ＬＤＫ | １ＬＤＫ | ２ＤＫ | １ＤＫ | ３ＤＫ | １Ｒ  | ２ＬＤＫ＋Ｓ | オープンフロア | １ＬＤＫ＋Ｓ | ２Ｋ  |
|----------|------|---------|---------|------|---------|---------|------|---------|------|---------|---------------|------------|------|------------|
| Count    | 26377.0 | 6658.0 | 2607.0 | 2535.0 | 867.0 | 599.0 | 421.0 | 318.0 | 211.0 | 154.0 | 106.0 | 83.0 | 34.0 | 16.0 | 14.0 |
| Percentage | 64.2 | 16.2 | 6.3 | 6.2 | 2.1 | 1.5 | 1.0 | 0.8 | 0.5 | 0.4 | 0.3 | 0.2 | 0.1 | 0.0 | 0.0 |


|                    | Nan | 未改装 | 改装済 |
|--------------------|-----|--------|--------|
| Renovation_count   | 27760.0 | 9087.0 | 4209.0 |
| Renovation(%)      | 67.6 | 22.1 | 10.3 |
